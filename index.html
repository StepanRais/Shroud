<!DOCTYPE html>
<html>
  <head>
    <title>–ú–∞–≥–∞–∑–∏–Ω –º–µ—Ä—á–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #1c2526;
        color: #ffffff;
      }
      .container {
        padding: 10px;
        padding-bottom: 60px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏ */
      }
      .search-bar {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
      }
      .search-bar input {
        flex: 1;
        padding: 8px;
        border: none;
        border-radius: 5px 0 0 5px;
        background-color: #333;
        color: #fff;
      }
      .search-bar .search-icon {
        padding: 8px;
        background-color: #333;
        border-radius: 0 5px 5px 0;
      }
      .search-bar .filter-btn {
        margin-left: 10px;
        padding: 8px;
        background-color: #333;
        border: none;
        border-radius: 5px;
        color: #fff;
        cursor: pointer;
      }
      .catalog {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }
      .product {
        background-color: #333;
        padding: 10px;
        border-radius: 5px;
        text-align: center;
      }
      .product img {
        width: 100%;
        height: auto;
        border-radius: 5px;
      }
      .product h3 {
        font-size: 14px;
        margin: 5px 0;
      }
      .product p {
        font-size: 12px;
        margin: 2px 0;
      }
      .stars {
        display: flex;
        justify-content: center;
        gap: 2px;
      }
      .stars .star {
        color: #ff0000;
        font-size: 12px;
      }
      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: #333;
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
      }
      .bottom-nav button {
        background: none;
        border: none;
        color: #fff;
        font-size: 24px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="search-bar">
        <input type="text" placeholder="–ü–æ–∏—Å–∫..." id="searchInput" />
        <span class="search-icon">üîç</span>
        <button class="filter-btn" onclick="showFilters()">–§–∏–ª—å—Ç—Ä—ã ‚öôÔ∏è</button>
      </div>
      <div class="catalog" id="catalog"></div>
    </div>

    <div class="bottom-nav">
      <button onclick="showCatalog()">üìã</button>
      <button onclick="showCart()">üõí</button>
      <button onclick="showReviews()">üí¨</button>
    </div>

    <script>
      // –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
      const products = [
        {
          id: 1,
          name: "Bal Sagoth",
          year: 1999,
          size: "XL",
          price: 6000,
          image: "https://via.placeholder.com/150",
          condition: 5,
        },
        {
          id: 2,
          name: "Incarnated",
          year: 1999,
          size: "L",
          price: 8000,
          image: "https://via.placeholder.com/150/0000FF/808080",
          condition: 5,
        },
        {
          id: 3,
          name: "Opeth",
          year: 2002,
          size: "L",
          price: 4500,
          image: "https://via.placeholder.com/150/FF0000/FFFFFF",
          condition: 5,
        },
        {
          id: 4,
          name: "SOAD",
          year: 2001,
          size: "M/L",
          price: 7500,
          image: "https://via.placeholder.com/150/00FF00/000000",
          condition: 5,
        },
      ];

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web Apps
      const tg = window.Telegram.WebApp;
      tg.ready();

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞
      function renderCatalog(filteredProducts = products) {
        const catalogDiv = document.getElementById("catalog");
        catalogDiv.innerHTML = ""; // –û—á–∏—â–∞–µ–º –∫–∞—Ç–∞–ª–æ–≥

        filteredProducts.forEach((product) => {
          const productDiv = document.createElement("div");
          productDiv.className = "product";
          productDiv.innerHTML = `
          <img src="${product.image}" alt="${product.name}">
          <h3>${product.name}</h3>
          <p>${product.year} ${product.size}</p>
          <p>${product.price}‚ÇΩ</p>
          <div class="stars">${renderStars(product.condition)}</div>
        `;
          productDiv.onclick = () => showProductPage(product.id);
          catalogDiv.appendChild(productDiv);
        });
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–≤–µ–∑–¥
      function renderStars(count) {
        let stars = "";
        for (let i = 0; i < 5; i++) {
          stars += `<span class="star">${i < count ? "‚òÖ" : "‚òÜ"}</span>`;
        }
        return stars;
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞
      document.getElementById("searchInput").addEventListener("input", (e) => {
        const searchTerm = e.target.value.toLowerCase();
        const filteredProducts = products.filter((product) =>
          product.name.toLowerCase().includes(searchTerm)
        );
        renderCatalog(filteredProducts);
      });

      // –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–∑–∞–≥–ª—É—à–∫–∏)
      function showCatalog() {
        renderCatalog();
      }

      function showCart() {
        alert("–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É!");
      }

      function showReviews() {
        alert("–û—Ç–∫—Ä—ã–≤–∞–µ–º –æ—Ç–∑—ã–≤—ã!");
      }

      function showFilters() {
        alert("–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã!");
      }

      function showProductPage(productId) {
        alert(`–û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞: ${productId}`);
        // –ü–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞
      }

      // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      renderCatalog();
    </script>
  </body>
</html>
